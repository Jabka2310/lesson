# üìö –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ø–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ SQLB10 (Day 08)

## üéØ –í–í–ï–î–ï–ù–ò–ï

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–º–æ–∂–µ—Ç —Ç–µ–±–µ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤—Å–µ –∑–∞–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ SQLB10 (Day 08) –ø—Ä–æ —É—Ä–æ–≤–Ω–∏ –∏–∑–æ–ª—è—Ü–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ PostgreSQL. –ö–∞–∂–¥–æ–µ –∑–∞–¥–∞–Ω–∏–µ —Ä–∞–∑–±–∏—Ç–æ –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏–µ —à–∞–≥–∏ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏.

**–í–∞–∂–Ω–æ:** –ü—Ä–æ–µ–∫—Ç –≤ –®–∫–æ–ª–µ 21 ‚Äî –ø—Ä–æ –ø–æ–Ω–∏–º–∞–Ω–∏–µ. –ù–µ –∫–æ–ø–∏—Ä—É–π —Å–ª–µ–ø–æ. –î–∞–∂–µ –µ—Å–ª–∏ –±–µ—Ä—ë—à—å —à–∞–±–ª–æ–Ω –∏–∑ –≥–∞–π–¥–∞ ‚Äî –ø–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä—å, –ø–æ—á–µ–º—É –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç, –∏ –ø–æ–ø—Ä–æ–±—É–π –æ–±—ä—è—Å–Ω–∏—Ç—å —Å–µ–±–µ –≤—Å–ª—É—Ö.

---

## 0) –ë—ã—Å—Ç—Ä—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç: –ø—Ä–æ —á—Ç–æ Day 08

Day 08 ‚Äî —ç—Ç–æ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑—É—á–µ–Ω–∏–µ **—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∏ —É—Ä–æ–≤–Ω–µ–π –∏–∑–æ–ª—è—Ü–∏–∏** –≤ PostgreSQL:

- **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è** ‚Äî —ç—Ç–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å SQL-–∫–æ–º–∞–Ω–¥, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–∞–∫ –µ–¥–∏–Ω–æ–µ —Ü–µ–ª–æ–µ (–≤—Å—ë –∏–ª–∏ –Ω–∏—á–µ–≥–æ).
- **–£—Ä–æ–≤–Ω–∏ –∏–∑–æ–ª—è—Ü–∏–∏** ‚Äî —ç—Ç–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç, –∫–∞–∫–∏–µ –∞–Ω–æ–º–∞–ª–∏–∏ –¥–∞–Ω–Ω—ã—Ö –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –ø—Ä–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.
- **–ê–Ω–æ–º–∞–ª–∏–∏ –¥–∞–Ω–Ω—ã—Ö** ‚Äî —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤–æ–∑–Ω–∏–∫–∞—é—Ç, –∫–æ–≥–¥–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Ä–∞–±–æ—Ç–∞—é—Ç —Å –æ–¥–Ω–∏–º–∏ –∏ —Ç–µ–º–∏ –∂–µ –¥–∞–Ω–Ω—ã–º–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

**4 —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –∞–Ω–æ–º–∞–ª–∏–∏:**
1. **Lost Update** (–ü–æ—Ç–µ—Ä—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è) ‚Äî –æ–¥–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –¥—Ä—É–≥–æ–µ
2. **Dirty Read** (–ì—Ä—è–∑–Ω–æ–µ —á—Ç–µ–Ω–∏–µ) ‚Äî —á—Ç–µ–Ω–∏–µ –Ω–µ–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
3. **Non-Repeatable Read** (–ù–µ–ø–æ–≤—Ç–æ—Ä—è—é—â–µ–µ—Å—è —á—Ç–µ–Ω–∏–µ) ‚Äî —Ä–∞–∑–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º —á—Ç–µ–Ω–∏–∏
4. **Phantom Read** (–§–∞–Ω—Ç–æ–º–Ω–æ–µ —á—Ç–µ–Ω–∏–µ) ‚Äî –ø–æ—è–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å—Ç—Ä–æ–∫ –º–µ–∂–¥—É —á—Ç–µ–Ω–∏—è–º–∏

---

## 1) –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–æ–¥–∏–Ω —Ä–∞–∑ –ø–µ—Ä–µ–¥ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è–º–∏)

### 1.1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏ –∫—É–¥–∞ –∫–ª–∞—Å—Ç—å —Ä–µ—à–µ–Ω–∏—è

–ü–æ `README_RUS.md` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è —Ç—ã —Å–æ–∑–¥–∞—ë—à—å —Ñ–∞–π–ª —Å—Ç—Ä–æ–≥–æ –ø–æ —à–∞–±–ª–æ–Ω—É:

- `src/ex00/day08_ex00.sql`
- `src/ex01/day08_ex01.sql`
- ‚Ä¶
- `src/ex07/day08_ex07.sql`

**–í–∞–∂–Ω–æ:** –í –∫–∞–∂–¥–æ–º —Ñ–∞–π–ª–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å:
- SQL-–∫–æ–º–∞–Ω–¥—ã —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏ –¥–ª—è Session #1 –∏ Session #2
- –°–∫—Ä–∏–Ω—à–æ—Ç—ã –≤—ã–≤–æ–¥–∞ psql –¥–ª—è –æ–±–µ–∏—Ö —Å–µ—Å—Å–∏–π

### 1.2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã–º–∏

–í `materials/model.sql` –æ–ø–∏—Å–∞–Ω–∞ –≤—Å—è —Å—Ö–µ–º–∞ –∏ –≤—Å—Ç–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ. –ï–≥–æ –Ω—É–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∫ —Ç–≤–æ–µ–π –±–∞–∑–µ PostgreSQL.

**–ß—Ç–æ –≤–Ω—É—Ç—Ä–∏ (—Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ –¥–ª—è Day08):**

- `pizzeria(id bigint, name varchar, rating numeric)` ‚Äî —Ç–∞–±–ª–∏—Ü–∞ –ø–∏—Ü—Ü–µ—Ä–∏–π —Å —Ä–µ–π—Ç–∏–Ω–≥–æ–º
- `person(id bigint, name varchar, age integer, gender varchar, address varchar)` ‚Äî —Ç–∞–±–ª–∏—Ü–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤
- `menu(id bigint, pizzeria_id bigint, pizza_name varchar, price numeric)` ‚Äî –º–µ–Ω—é
- `person_visits(id bigint, person_id bigint, pizzeria_id bigint, visit_date date)` ‚Äî –≤–∏–∑–∏—Ç—ã
- `person_order(id bigint, person_id bigint, menu_id bigint, order_date date)` ‚Äî –∑–∞–∫–∞–∑—ã

### 1.3. –ú–∏–Ω–∏-—à–ø–∞—Ä–≥–∞–ª–∫–∞ –ø–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º –∏ —É—Ä–æ–≤–Ω—è–º –∏–∑–æ–ª—è—Ü–∏–∏

**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π:**
- `BEGIN` –∏–ª–∏ `BEGIN TRANSACTION` ‚Äî –Ω–∞—á–∞–ª–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- `COMMIT` ‚Äî —Ñ–∏–∫—Å–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ)
- `ROLLBACK` ‚Äî –æ—Ç–∫–∞—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π (–æ—Ç–º–µ–Ω–∞)

**–£—Ä–æ–≤–Ω–∏ –∏–∑–æ–ª—è—Ü–∏–∏ –≤ PostgreSQL:**
- `READ UNCOMMITTED` ‚Äî –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è (—Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ READ COMMITTED)
- `READ COMMITTED` ‚Äî —É—Ä–æ–≤–µ–Ω—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- `REPEATABLE READ` ‚Äî –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç Non-Repeatable Reads
- `SERIALIZABLE` ‚Äî —Å–∞–º—ã–π —Å—Ç—Ä–æ–≥–∏–π, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ –∞–Ω–æ–º–∞–ª–∏–∏

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —É—Ä–æ–≤–Ω—è –∏–∑–æ–ª—è—Ü–∏–∏:**
```sql
SET TRANSACTION ISOLATION LEVEL READ COMMITTED;
-- –∏–ª–∏
BEGIN TRANSACTION ISOLATION LEVEL REPEATABLE READ;
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —É—Ä–æ–≤–Ω—è:**
```sql
SHOW TRANSACTION ISOLATION LEVEL;
```

### 1.4. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –¥–≤—É–º—è —Å–µ—Å—Å–∏—è–º–∏

**–í–∞–∂–Ω–æ:** –î–ª—è –≤—Å–µ—Ö –∑–∞–¥–∞–Ω–∏–π –Ω—É–∂–Ω—ã **–¥–≤–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö —Å–µ–∞–Ω—Å–∞** (–¥–≤–∞ –æ–∫–Ω–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ —Å psql).

**–°–ø–æ—Å–æ–± 1: –î–≤–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞**
- –û—Ç–∫—Ä–æ–π –¥–≤–∞ –æ–∫–Ω–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
- –í –∫–∞–∂–¥–æ–º –≤—ã–ø–æ–ª–Ω–∏ `psql -d pizza_db` (–∏–ª–∏ —Ç–≤–æ—ë –∏–º—è –±–∞–∑—ã)

**–°–ø–æ—Å–æ–± 2: –û–¥–∏–Ω —Ç–µ—Ä–º–∏–Ω–∞–ª —Å –¥–≤—É–º—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º–∏**
- –ò—Å–ø–æ–ª—å–∑—É–π `tmux` –∏–ª–∏ `screen` –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –æ–∫–Ω–∞
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π –¥–≤–∞ –≤–∫–ª–∞–¥–∫–∏ –≤ IDE (DataGrip, pgAdmin)

**–û–±–æ–∑–Ω–∞—á–µ–Ω–∏—è –≤ –≥–∞–π–¥–µ:**
- **Session #1** ‚Äî –ø–µ—Ä–≤–∞—è —Å–µ—Å—Å–∏—è (–ª–µ–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª)
- **Session #2** ‚Äî –≤—Ç–æ—Ä–∞—è —Å–µ—Å—Å–∏—è (–ø—Ä–∞–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª)

---

## üìù –ó–ê–î–ê–ù–ò–ï 00: Simple transaction

### üéØ –¶–µ–ª—å –∑–∞–¥–∞–Ω–∏—è

–ü–æ–Ω—è—Ç—å, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏: –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –æ–¥–Ω–æ–π —Å–µ—Å—Å–∏–∏ –Ω–µ –≤–∏–¥–Ω—ã –¥—Ä—É–≥–∏–º —Å–µ—Å—Å–∏—è–º –¥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è `COMMIT`.

### üìñ –ß—Ç–æ –Ω—É–∂–Ω–æ –ø–æ–Ω—è—Ç—å

**–ö–æ–Ω—Ü–µ–ø—Ü–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:**
- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `BEGIN` (–∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –∫–æ–º–∞–Ω–¥–µ)
- –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–∏–¥–Ω—ã —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–æ `COMMIT`
- –ü–æ—Å–ª–µ `COMMIT` –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –≤–∏–¥–∏–º—ã–º–∏ –≤—Å–µ–º
- –ï—Å–ª–∏ —Å–¥–µ–ª–∞—Ç—å `ROLLBACK`, –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–∫–∞—Ç—ã–≤–∞—é—Ç—Å—è

**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏–π:**
1. Session #1: –ù–∞—á–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é, –æ–±–Ω–æ–≤–∏—Ç—å —Ä–µ–π—Ç–∏–Ω–≥
2. Session #1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤–∏–¥–∏—à—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
3. Session #2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ù–ï –≤–∏–¥–∏—à—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
4. Session #1: –°–¥–µ–ª–∞—Ç—å COMMIT
5. Session #2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ç–µ–ø–µ—Ä—å –≤–∏–¥–∏—à—å –∏–∑–º–µ–Ω–µ–Ω–∏—è

### üîç –®–ê–ì 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ Session #1

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. –û—Ç–∫—Ä–æ–π –ø–µ—Ä–≤—É—é —Å–µ—Å—Å–∏—é psql
2. –ü–æ–¥–∫–ª—é—á–∏—Å—å –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
3. –ü—Ä–æ–≤–µ—Ä—å —Ç–µ–∫—É—â–∏–π —Ä–µ–π—Ç–∏–Ω–≥ Pizza Hut:

```sql
SELECT * FROM pizzeria WHERE name = 'Pizza Hut';
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
 id |   name    | rating
----+-----------+--------
  1 | Pizza Hut |    4.6
```

### üîç –®–ê–ì 2: –ù–∞—á–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –∏ –æ–±–Ω–æ–≤–∏—Ç—å —Ä–µ–π—Ç–∏–Ω–≥

**–í Session #1:**

```sql
-- –ù–∞—á–∞–ª–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
BEGIN;

-- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞
UPDATE pizzeria 
SET rating = 5 
WHERE name = 'Pizza Hut';
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- `BEGIN` ‚Äî –Ω–∞—á–∏–Ω–∞–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
- `UPDATE` ‚Äî –∏–∑–º–µ–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ (–Ω–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –µ—â—ë –Ω–µ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã)

### üîç –®–ê–ì 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ Session #1

**–í Session #1:**

```sql
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ —Ç–æ–π –∂–µ —Å–µ—Å—Å–∏–∏
SELECT * FROM pizzeria WHERE name = 'Pizza Hut';
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
 id |   name    | rating
----+-----------+--------
  1 | Pizza Hut |      5
```

**–í—ã–≤–æ–¥:** –í–Ω—É—Ç—Ä–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Ç—ã –≤–∏–¥–∏—à—å —Å–≤–æ–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è.

### üîç –®–ê–ì 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ Session #2 (–¥–æ COMMIT)

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. –û—Ç–∫—Ä–æ–π –≤—Ç–æ—Ä—É—é —Å–µ—Å—Å–∏—é psql
2. –ü–æ–¥–∫–ª—é—á–∏—Å—å –∫ —Ç–æ–π –∂–µ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
3. –í—ã–ø–æ–ª–Ω–∏ –∑–∞–ø—Ä–æ—Å:

```sql
SELECT * FROM pizzeria WHERE name = 'Pizza Hut';
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
 id |   name    | rating
----+-----------+--------
  1 | Pizza Hut |    4.6
```

**–í—ã–≤–æ–¥:** Session #2 –ù–ï –≤–∏–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–∏ –µ—â—ë –Ω–µ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã (–Ω–µ—Ç COMMIT).

### üîç –®–ê–ì 5: –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ Session #1

**–í Session #1:**

```sql
-- –§–∏–∫—Å–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
COMMIT;
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- `COMMIT` ‚Äî —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- –ü–æ—Å–ª–µ COMMIT –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –≤–∏–¥–∏–º—ã–º–∏ –≤—Å–µ–º —Å–µ—Å—Å–∏—è–º

### üîç –®–ê–ì 6: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ Session #2 (–ø–æ—Å–ª–µ COMMIT)

**–í Session #2:**

```sql
SELECT * FROM pizzeria WHERE name = 'Pizza Hut';
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
 id |   name    | rating
----+-----------+--------
  1 | Pizza Hut |      5
```

**–í—ã–≤–æ–¥:** –¢–µ–ø–µ—Ä—å Session #2 –≤–∏–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã.

### ‚úçÔ∏è –®–ê–ì 7: –ù–∞–ø–∏—à–∏ —Ñ–∞–π–ª —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–∞ `src/ex00/day08_ex00.sql`:**

```sql
-- ============================================
-- Session #1
-- ============================================

-- –®–∞–≥ 1: –ù–∞—á–∞–ª–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
BEGIN;

-- –®–∞–≥ 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞ Pizza Hut –¥–æ 5
UPDATE pizzeria 
SET rating = 5 
WHERE name = 'Pizza Hut';

-- –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ Session #1
-- (–¥–æ–ª–∂–µ–Ω –≤–∏–¥–µ—Ç—å rating = 5)
SELECT * FROM pizzeria WHERE name = 'Pizza Hut';

-- –®–∞–≥ 4: –§–∏–∫—Å–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
COMMIT;

-- ============================================
-- Session #2
-- ============================================

-- –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ COMMIT –≤ Session #1
-- (–¥–æ–ª–∂–µ–Ω –≤–∏–¥–µ—Ç—å rating = 4.6, —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ)
SELECT * FROM pizzeria WHERE name = 'Pizza Hut';

-- –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ COMMIT –≤ Session #1
-- (–¥–æ–ª–∂–µ–Ω –≤–∏–¥–µ—Ç—å rating = 5, –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ)
SELECT * FROM pizzeria WHERE name = 'Pizza Hut';
```

### ‚úÖ –®–ê–ì 8: –ü—Ä–æ–≤–µ—Ä—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. –°–æ–∑–¥–∞–π —Ñ–∞–π–ª `src/ex00/day08_ex00.sql`
2. –í—ã–ø–æ–ª–Ω–∏ –∫–æ–º–∞–Ω–¥—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
3. –°–¥–µ–ª–∞–π —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –≤—ã–≤–æ–¥–∞ –¥–ª—è –æ–±–µ–∏—Ö —Å–µ—Å—Å–∏–π
4. –£–±–µ–¥–∏—Å—å, —á—Ç–æ:
   - –î–æ COMMIT Session #2 –≤–∏–¥–∏—Ç —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ (4.6)
   - –ü–æ—Å–ª–µ COMMIT Session #2 –≤–∏–¥–∏—Ç –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (5)

---

## üìù –ó–ê–î–ê–ù–ò–ï 01: Lost Update Anomaly

### üéØ –¶–µ–ª—å –∑–∞–¥–∞–Ω–∏—è

–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –∞–Ω–æ–º–∞–ª–∏—é "–ü–æ—Ç–µ—Ä—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è" (Lost Update) –Ω–∞ —É—Ä–æ–≤–Ω–µ –∏–∑–æ–ª—è—Ü–∏–∏ READ COMMITTED.

### üìñ –ß—Ç–æ –Ω—É–∂–Ω–æ –ø–æ–Ω—è—Ç—å

**Lost Update Anomaly:**
- –î–≤–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —á–∏—Ç–∞—é—Ç –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ –∑–Ω–∞—á–µ–Ω–∏–µ
- –û–±–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ
- –û–¥–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ "—Ç–µ—Ä—è–µ—Ç—Å—è" (–ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –¥—Ä—É–≥–∏–º)
- –ò—Ç–æ–≥–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ = –ø–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, –ø–µ—Ä–≤–æ–µ —Ç–µ—Ä—è–µ—Ç—Å—è

**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
1. Session #1: BEGIN, SELECT (—á–∏—Ç–∞–µ—Ç rating = 4.6)
2. Session #2: BEGIN, SELECT (—á–∏—Ç–∞–µ—Ç rating = 4.6)
3. Session #1: UPDATE rating = 4, COMMIT
4. Session #2: UPDATE rating = 3.6, COMMIT
5. –ò—Ç–æ–≥: rating = 3.6 (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ Session #1 –ø–æ—Ç–µ—Ä—è–Ω–æ!)

### üîç –®–ê–ì 1: –ü—Ä–æ–≤–µ—Ä—å —É—Ä–æ–≤–µ–Ω—å –∏–∑–æ–ª—è—Ü–∏–∏

**–í –æ–±–µ–∏—Ö —Å–µ—Å—Å–∏—è—Ö:**

```sql
SHOW TRANSACTION ISOLATION LEVEL;
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
 transaction_isolation_level
-----------------------------
 read committed
```

**–ï—Å–ª–∏ –Ω–µ —Ç–∞–∫, —É—Å—Ç–∞–Ω–æ–≤–∏ —è–≤–Ω–æ:**

```sql
SET TRANSACTION ISOLATION LEVEL READ COMMITTED;
```

### üîç –®–ê–ì 2: –ù–∞—á–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤ –æ–±–µ–∏—Ö —Å–µ—Å—Å–∏—è—Ö

**–í Session #1:**

```sql
BEGIN;
```

**–í Session #2:**

```sql
BEGIN;
```

### üîç –®–ê–ì 3: –ü—Ä–æ—á–∏—Ç–∞—Ç—å —Ä–µ–π—Ç–∏–Ω–≥ –≤ –æ–±–µ–∏—Ö —Å–µ—Å—Å–∏—è—Ö

**–í Session #1:**

```sql
SELECT rating FROM pizzeria WHERE name = 'Pizza Hut';
```

**–í Session #2:**

```sql
SELECT rating FROM pizzeria WHERE name = 'Pizza Hut';
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –æ–±–µ–∏—Ö:** `4.6`

**–í—ã–≤–æ–¥:** –û–±–µ —Å–µ—Å—Å–∏–∏ –≤–∏–¥—è—Ç –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.

### üîç –®–ê–ì 4: –û–±–Ω–æ–≤–∏—Ç—å –≤ Session #1

**–í Session #1:**

```sql
UPDATE pizzeria 
SET rating = 4 
WHERE name = 'Pizza Hut';

COMMIT;
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- –û–±–Ω–æ–≤–ª—è–µ–º —Ä–µ–π—Ç–∏–Ω–≥ –¥–æ 4
- –§–∏–∫—Å–∏—Ä—É–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è

### üîç –®–ê–ì 5: –û–±–Ω–æ–≤–∏—Ç—å –≤ Session #2

**–í Session #2:**

```sql
UPDATE pizzeria 
SET rating = 3.6 
WHERE name = 'Pizza Hut';

COMMIT;
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- –û–±–Ω–æ–≤–ª—è–µ–º —Ä–µ–π—Ç–∏–Ω–≥ –¥–æ 3.6
- –§–∏–∫—Å–∏—Ä—É–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è

**–í–∞–∂–Ω–æ:** Session #2 —á–∏—Ç–∞–ª–∞ —Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (4.6), –Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ —ç—Ç–æ–≥–æ —Å—Ç–∞—Ä–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è, –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—è –∏–∑–º–µ–Ω–µ–Ω–∏—è Session #1.

### üîç –®–ê–ì 6: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**–í –ª—é–±–æ–π —Å–µ—Å—Å–∏–∏:**

```sql
SELECT * FROM pizzeria WHERE name = 'Pizza Hut';
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
 id |   name    | rating
----+-----------+--------
  1 | Pizza Hut |    3.6
```

**–í—ã–≤–æ–¥:** –ò—Ç–æ–≥–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ = 3.6 (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ Session #1 –¥–æ 4 –ø–æ—Ç–µ—Ä—è–Ω–æ!)

### ‚úçÔ∏è –®–ê–ì 7: –ù–∞–ø–∏—à–∏ —Ñ–∞–π–ª —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–∞ `src/ex01/day08_ex01.sql`:**

```sql
-- ============================================
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ä–æ–≤–Ω—è –∏–∑–æ–ª—è—Ü–∏–∏
-- ============================================
SHOW TRANSACTION ISOLATION LEVEL;
-- –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: read committed

-- –ï—Å–ª–∏ –Ω–µ—Ç, —É—Å—Ç–∞–Ω–æ–≤–∏:
-- SET TRANSACTION ISOLATION LEVEL READ COMMITTED;

-- ============================================
-- Session #1
-- ============================================

-- –®–∞–≥ 1: –ù–∞—á–∞–ª–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
BEGIN;

-- –®–∞–≥ 2: –ß—Ç–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞ (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 4.6)
SELECT rating FROM pizzeria WHERE name = 'Pizza Hut';

-- –®–∞–≥ 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞ –¥–æ 4
UPDATE pizzeria 
SET rating = 4 
WHERE name = 'Pizza Hut';

-- –®–∞–≥ 4: –§–∏–∫—Å–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
COMMIT;

-- ============================================
-- Session #2
-- ============================================

-- –®–∞–≥ 1: –ù–∞—á–∞–ª–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
BEGIN;

-- –®–∞–≥ 2: –ß—Ç–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞ (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 4.6, —Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)
SELECT rating FROM pizzeria WHERE name = 'Pizza Hut';

-- –®–∞–≥ 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞ –¥–æ 3.6
-- (–ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ Session #1!)
UPDATE pizzeria 
SET rating = 3.6 
WHERE name = 'Pizza Hut';

-- –®–∞–≥ 4: –§–∏–∫—Å–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
COMMIT;

-- ============================================
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Ç–æ–≥–æ–≤–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
-- ============================================
-- –ò—Ç–æ–≥–æ–≤—ã–π —Ä–µ–π—Ç–∏–Ω–≥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 3.6
-- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Session #1 (–¥–æ 4) –ø–æ—Ç–µ—Ä—è–Ω–æ!
SELECT * FROM pizzeria WHERE name = 'Pizza Hut';
```

### ‚úÖ –®–ê–ì 8: –ü—Ä–æ–≤–µ—Ä—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. –°–æ–∑–¥–∞–π —Ñ–∞–π–ª `src/ex01/day08_ex01.sql`
2. –í—ã–ø–æ–ª–Ω–∏ –∫–æ–º–∞–Ω–¥—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
3. –°–¥–µ–ª–∞–π —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –≤—ã–≤–æ–¥–∞ –¥–ª—è –æ–±–µ–∏—Ö —Å–µ—Å—Å–∏–π
4. –£–±–µ–¥–∏—Å—å, —á—Ç–æ:
   - –û–±–µ —Å–µ—Å—Å–∏–∏ —á–∏—Ç–∞—é—Ç –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ 4.6
   - Session #1 –æ–±–Ω–æ–≤–ª—è–µ—Ç –¥–æ 4 –∏ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç
   - Session #2 –æ–±–Ω–æ–≤–ª—è–µ—Ç –¥–æ 3.6 –∏ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç
   - –ò—Ç–æ–≥–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ = 3.6 (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ Session #1 –ø–æ—Ç–µ—Ä—è–Ω–æ)

---

## üìù –ó–ê–î–ê–ù–ò–ï 02: Lost Update for Repeatable Read

### üéØ –¶–µ–ª—å –∑–∞–¥–∞–Ω–∏—è

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫ —É—Ä–æ–≤–µ–Ω—å –∏–∑–æ–ª—è—Ü–∏–∏ REPEATABLE READ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∞–Ω–æ–º–∞–ª–∏—é Lost Update.

### üìñ –ß—Ç–æ –Ω—É–∂–Ω–æ –ø–æ–Ω—è—Ç—å

**REPEATABLE READ:**
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ —á—Ç–µ–Ω–∏–µ –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤–µ—Ä–Ω—ë—Ç —Ç–µ –∂–µ –¥–∞–Ω–Ω—ã–µ
- –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É, –∏–∑–º–µ–Ω—ë–Ω–Ω—É—é –¥—Ä—É–≥–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–µ–π, –≤–æ–∑–Ω–∏–∫–Ω–µ—Ç –æ—à–∏–±–∫–∞
- PostgreSQL –≤—ã–¥–∞—Å—Ç –æ—à–∏–±–∫—É: `ERROR: could not serialize access due to concurrent update`

**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
1. Session #1: BEGIN, SET ISOLATION LEVEL REPEATABLE READ, SELECT (4.6)
2. Session #2: BEGIN, SET ISOLATION LEVEL REPEATABLE READ, SELECT (4.6)
3. Session #1: UPDATE rating = 4, COMMIT
4. Session #2: UPDATE rating = 3.6 ‚Üí **–û–®–ò–ë–ö–ê!**

### üîç –®–ê–ì 1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å –∏–∑–æ–ª—è—Ü–∏–∏

**–í Session #1:**

```sql
BEGIN TRANSACTION ISOLATION LEVEL REPEATABLE READ;
```

**–í Session #2:**

```sql
BEGIN TRANSACTION ISOLATION LEVEL REPEATABLE READ;
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±:**

```sql
BEGIN;
SET TRANSACTION ISOLATION LEVEL REPEATABLE READ;
```

### üîç –®–ê–ì 2: –ü—Ä–æ—á–∏—Ç–∞—Ç—å —Ä–µ–π—Ç–∏–Ω–≥ –≤ –æ–±–µ–∏—Ö —Å–µ—Å—Å–∏—è—Ö

**–í Session #1:**

```sql
SELECT rating FROM pizzeria WHERE name = 'Pizza Hut';
```

**–í Session #2:**

```sql
SELECT rating FROM pizzeria WHERE name = 'Pizza Hut';
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –æ–±–µ–∏—Ö:** `4.6`

### üîç –®–ê–ì 3: –û–±–Ω–æ–≤–∏—Ç—å –≤ Session #1

**–í Session #1:**

```sql
UPDATE pizzeria 
SET rating = 4 
WHERE name = 'Pizza Hut';

COMMIT;
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã

### üîç –®–ê–ì 4: –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –æ–±–Ω–æ–≤–∏—Ç—å –≤ Session #2

**–í Session #2:**

```sql
UPDATE pizzeria 
SET rating = 3.6 
WHERE name = 'Pizza Hut';
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
ERROR:  could not serialize access due to concurrent update
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- PostgreSQL –æ–±–Ω–∞—Ä—É–∂–∏–ª, —á—Ç–æ —Å—Ç—Ä–æ–∫–∞ –±—ã–ª–∞ –∏–∑–º–µ–Ω–µ–Ω–∞ –¥—Ä—É–≥–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–µ–π
- –ß—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å Lost Update, –≤—ã–¥–∞—ë—Ç—Å—è –æ—à–∏–±–∫–∞
- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è Session #2 –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—Ç–∫–∞—á–µ–Ω–∞ –∏ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∞

### üîç –®–ê–ì 5: –û—Ç–∫–∞—Ç–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é Session #2

**–í Session #2:**

```sql
ROLLBACK;
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- –ü–æ—Å–ª–µ –æ—à–∏–±–∫–∏ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å ROLLBACK
- –ó–∞—Ç–µ–º –º–æ–∂–Ω–æ –Ω–∞—á–∞—Ç—å –Ω–æ–≤—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é

### ‚úçÔ∏è –®–ê–ì 6: –ù–∞–ø–∏—à–∏ —Ñ–∞–π–ª —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–∞ `src/ex02/day08_ex02.sql`:**

```sql
-- ============================================
-- Session #1
-- ============================================

-- –®–∞–≥ 1: –ù–∞—á–∞–ª–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å —É—Ä–æ–≤–Ω–µ–º REPEATABLE READ
BEGIN TRANSACTION ISOLATION LEVEL REPEATABLE READ;

-- –®–∞–≥ 2: –ß—Ç–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞ (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 4.6)
SELECT rating FROM pizzeria WHERE name = 'Pizza Hut';

-- –®–∞–≥ 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞ –¥–æ 4
UPDATE pizzeria 
SET rating = 4 
WHERE name = 'Pizza Hut';

-- –®–∞–≥ 4: –§–∏–∫—Å–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
COMMIT;

-- ============================================
-- Session #2
-- ============================================

-- –®–∞–≥ 1: –ù–∞—á–∞–ª–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å —É—Ä–æ–≤–Ω–µ–º REPEATABLE READ
BEGIN TRANSACTION ISOLATION LEVEL REPEATABLE READ;

-- –®–∞–≥ 2: –ß—Ç–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞ (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 4.6, —Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)
SELECT rating FROM pizzeria WHERE name = 'Pizza Hut';

-- –®–∞–≥ 3: –ü–æ–ø—ã—Ç–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–µ–π—Ç–∏–Ω–≥–∞ –¥–æ 3.6
-- –û–ñ–ò–î–ê–ï–¢–°–Ø –û–®–ò–ë–ö–ê:
-- ERROR: could not serialize access due to concurrent update
UPDATE pizzeria 
SET rating = 3.6 
WHERE name = 'Pizza Hut';

-- –®–∞–≥ 4: –û—Ç–∫–∞—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø–æ—Å–ª–µ –æ—à–∏–±–∫–∏
ROLLBACK;
```

### ‚úÖ –®–ê–ì 7: –ü—Ä–æ–≤–µ—Ä—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. –°–æ–∑–¥–∞–π —Ñ–∞–π–ª `src/ex02/day08_ex02.sql`
2. –í—ã–ø–æ–ª–Ω–∏ –∫–æ–º–∞–Ω–¥—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
3. –°–¥–µ–ª–∞–π —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –≤—ã–≤–æ–¥–∞ –¥–ª—è –æ–±–µ–∏—Ö —Å–µ—Å—Å–∏–π
4. –£–±–µ–¥–∏—Å—å, —á—Ç–æ:
   - Session #1 —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∏ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç
   - Session #2 –ø–æ–ª—É—á–∞–µ—Ç –æ—à–∏–±–∫—É –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
   - Lost Update –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â—ë–Ω!

---

## üìù –ó–ê–î–ê–ù–ò–ï 03: Non-Repeatable Reads Anomaly

### üéØ –¶–µ–ª—å –∑–∞–¥–∞–Ω–∏—è

–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –∞–Ω–æ–º–∞–ª–∏—é "–ù–µ–ø–æ–≤—Ç–æ—Ä—è—é—â–µ–µ—Å—è —á—Ç–µ–Ω–∏–µ" (Non-Repeatable Read) –Ω–∞ —É—Ä–æ–≤–Ω–µ READ COMMITTED.

### üìñ –ß—Ç–æ –Ω—É–∂–Ω–æ –ø–æ–Ω—è—Ç—å

**Non-Repeatable Read:**
- –û–¥–Ω–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —á–∏—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–≤–∞–∂–¥—ã
- –ú–µ–∂–¥—É —á—Ç–µ–Ω–∏—è–º–∏ –¥—Ä—É–≥–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –∏–∑–º–µ–Ω—è–µ—Ç —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ
- –í—Ç–æ—Ä–æ–µ —á—Ç–µ–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥—Ä—É–≥–∏–µ –¥–∞–Ω–Ω—ã–µ
- –ù–∞—Ä—É—à–∞–µ—Ç—Å—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –≤–Ω—É—Ç—Ä–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
1. Session #1: BEGIN, SELECT (—á–∏—Ç–∞–µ—Ç rating = 4.6)
2. Session #2: BEGIN, UPDATE rating = 3.6, COMMIT
3. Session #1: SELECT (—á–∏—Ç–∞–µ—Ç rating = 3.6) ‚Üê **–¥—Ä—É–≥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ!**

### üîç –®–ê–ì 1: –£–±–µ–¥–∏—Ç—å—Å—è –≤ —É—Ä–æ–≤–Ω–µ –∏–∑–æ–ª—è—Ü–∏–∏

**–í –æ–±–µ–∏—Ö —Å–µ—Å—Å–∏—è—Ö:**

```sql
SHOW TRANSACTION ISOLATION LEVEL;
```

**–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:** `read committed`

### üîç –®–ê–ì 2: –ù–∞—á–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –≤ Session #1

**–í Session #1:**

```sql
BEGIN;
```

### üîç –®–ê–ì 3: –ü–µ—Ä–≤–æ–µ —á—Ç–µ–Ω–∏–µ –≤ Session #1

**–í Session #1:**

```sql
SELECT rating FROM pizzeria WHERE name = 'Pizza Hut';
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** `4.6`

**–í—ã–≤–æ–¥:** –ü–µ—Ä–≤–æ–µ —á—Ç–µ–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.

### üîç –®–ê–ì 4: –û–±–Ω–æ–≤–∏—Ç—å –≤ Session #2

**–í Session #2:**

```sql
BEGIN;

UPDATE pizzeria 
SET rating = 3.6 
WHERE name = 'Pizza Hut';

COMMIT;
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- –û–±–Ω–æ–≤–ª—è–µ–º —Ä–µ–π—Ç–∏–Ω–≥ –¥–æ 3.6
- –§–∏–∫—Å–∏—Ä—É–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è

### üîç –®–ê–ì 5: –í—Ç–æ—Ä–æ–µ —á—Ç–µ–Ω–∏–µ –≤ Session #1

**–í Session #1:**

```sql
SELECT rating FROM pizzeria WHERE name = 'Pizza Hut';
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** `3.6`

**–í—ã–≤–æ–¥:** –í—Ç–æ—Ä–æ–µ —á—Ç–µ–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç **–¥—Ä—É–≥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ**! –≠—Ç–æ –∏ –µ—Å—Ç—å Non-Repeatable Read.

### üîç –®–ê–ì 6: –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é Session #1

**–í Session #1:**

```sql
COMMIT;
```

### ‚úçÔ∏è –®–ê–ì 7: –ù–∞–ø–∏—à–∏ —Ñ–∞–π–ª —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–∞ `src/ex03/day08_ex03.sql`:**

```sql
-- ============================================
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ä–æ–≤–Ω—è –∏–∑–æ–ª—è—Ü–∏–∏
-- ============================================
SHOW TRANSACTION ISOLATION LEVEL;
-- –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: read committed

-- ============================================
-- Session #1
-- ============================================

-- –®–∞–≥ 1: –ù–∞—á–∞–ª–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
BEGIN;

-- –®–∞–≥ 2: –ü–µ—Ä–≤–æ–µ —á—Ç–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞ (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 4.6)
SELECT rating FROM pizzeria WHERE name = 'Pizza Hut';

-- –®–∞–≥ 3: –í—Ç–æ—Ä–æ–µ —á—Ç–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞ (–ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ Session #2)
-- –û–ñ–ò–î–ê–ï–¢–°–Ø –î–†–£–ì–û–ï –ó–ù–ê–ß–ï–ù–ò–ï: 3.6
-- –≠—Ç–æ –∏ –µ—Å—Ç—å Non-Repeatable Read!
SELECT rating FROM pizzeria WHERE name = 'Pizza Hut';

-- –®–∞–≥ 4: –§–∏–∫—Å–∞—Ü–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
COMMIT;

-- ============================================
-- Session #2
-- ============================================

-- –®–∞–≥ 1: –ù–∞—á–∞–ª–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
BEGIN;

-- –®–∞–≥ 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞ –¥–æ 3.6
UPDATE pizzeria 
SET rating = 3.6 
WHERE name = 'Pizza Hut';

-- –®–∞–≥ 3: –§–∏–∫—Å–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
COMMIT;
```

### ‚úÖ –®–ê–ì 8: –ü—Ä–æ–≤–µ—Ä—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. –°–æ–∑–¥–∞–π —Ñ–∞–π–ª `src/ex03/day08_ex03.sql`
2. –í—ã–ø–æ–ª–Ω–∏ –∫–æ–º–∞–Ω–¥—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
3. –°–¥–µ–ª–∞–π —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –≤—ã–≤–æ–¥–∞ –¥–ª—è –æ–±–µ–∏—Ö —Å–µ—Å—Å–∏–π
4. –£–±–µ–¥–∏—Å—å, —á—Ç–æ:
   - –ü–µ—Ä–≤–æ–µ —á—Ç–µ–Ω–∏–µ –≤ Session #1 = 4.6
   - –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ Session #2
   - –í—Ç–æ—Ä–æ–µ —á—Ç–µ–Ω–∏–µ –≤ Session #1 = 3.6 (–¥—Ä—É–≥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ!)

---

## üìù –ó–ê–î–ê–ù–ò–ï 04: Non-Repeatable Reads for Serialization

### üéØ –¶–µ–ª—å –∑–∞–¥–∞–Ω–∏—è

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫ —É—Ä–æ–≤–µ–Ω—å –∏–∑–æ–ª—è—Ü–∏–∏ SERIALIZABLE –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∞–Ω–æ–º–∞–ª–∏—é Non-Repeatable Read.

### üìñ –ß—Ç–æ –Ω—É–∂–Ω–æ –ø–æ–Ω—è—Ç—å

**SERIALIZABLE:**
- –°–∞–º—ã–π —Å—Ç—Ä–æ–≥–∏–π —É—Ä–æ–≤–µ–Ω—å –∏–∑–æ–ª—è—Ü–∏–∏
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Ç–∞–∫–æ–π –∂–µ, –∫–∞–∫ –µ—Å–ª–∏ –±—ã –æ–Ω–∏ –≤—ã–ø–æ–ª–Ω—è–ª–∏—Å—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
- –ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –≤—ã–¥–∞—ë—Ç—Å—è –æ—à–∏–±–∫–∞: `ERROR: could not serialize access`

**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
1. Session #1: BEGIN SERIALIZABLE, SELECT (4.6)
2. Session #2: BEGIN, UPDATE rating = 3.0, COMMIT
3. Session #1: SELECT ‚Üí **–û–®–ò–ë–ö–ê!** (–∏–ª–∏ –≤–∏–¥–∏—Ç —Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)

### üîç –®–ê–ì 1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å –∏–∑–æ–ª—è—Ü–∏–∏

**–í Session #1:**

```sql
BEGIN TRANSACTION ISOLATION LEVEL SERIALIZABLE;
```

**–í Session #2:**

```sql
BEGIN;
-- –ú–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å READ COMMITTED (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
```

### üîç –®–ê–ì 2: –ü–µ—Ä–≤–æ–µ —á—Ç–µ–Ω–∏–µ –≤ Session #1

**–í Session #1:**

```sql
SELECT rating FROM pizzeria WHERE name = 'Pizza Hut';
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** `4.6`

### üîç –®–ê–ì 3: –û–±–Ω–æ–≤–∏—Ç—å –≤ Session #2

**–í Session #2:**

```sql
UPDATE pizzeria 
SET rating = 3.0 
WHERE name = 'Pizza Hut';

COMMIT;
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- –û–±–Ω–æ–≤–ª—è–µ–º —Ä–µ–π—Ç–∏–Ω–≥ –¥–æ 3.0
- –§–∏–∫—Å–∏—Ä—É–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è

### üîç –®–ê–ì 4: –í—Ç–æ—Ä–æ–µ —á—Ç–µ–Ω–∏–µ –≤ Session #1

**–í Session #1:**

```sql
SELECT rating FROM pizzeria WHERE name = 'Pizza Hut';
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**

**–í–∞—Ä–∏–∞–Ω—Ç 1:** –û—à–∏–±–∫–∞ –ø—Ä–∏ COMMIT
```
ERROR:  could not serialize access due to read/write dependencies among transactions
```

**–í–∞—Ä–∏–∞–Ω—Ç 2:** –í–∏–¥–∏—Ç —Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (4.6) –±–ª–∞–≥–æ–¥–∞—Ä—è —Å–Ω–∏–º–∫—É –¥–∞–Ω–Ω—ã—Ö

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- –í SERIALIZABLE PostgreSQL —Å–æ–∑–¥–∞—ë—Ç —Å–Ω–∏–º–æ–∫ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –Ω–∞—á–∞–ª–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- –í—Å–µ —á—Ç–µ–Ω–∏—è –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤–∏–¥—è—Ç —ç—Ç–æ—Ç —Å–Ω–∏–º–æ–∫
- –ü—Ä–∏ COMMIT –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è, –Ω–µ –±—ã–ª–æ –ª–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

### üîç –®–ê–ì 5: –ü–æ–ø—ã—Ç–∫–∞ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å Session #1

**–í Session #1:**

```sql
COMMIT;
```

**–ï—Å–ª–∏ –±—ã–ª–∞ –æ—à–∏–±–∫–∞:**
- –ù—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å `ROLLBACK` –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é

### ‚úçÔ∏è –®–ê–ì 6: –ù–∞–ø–∏—à–∏ —Ñ–∞–π–ª —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–∞ `src/ex04/day08_ex04.sql`:**

```sql
-- ============================================
-- Session #1
-- ============================================

-- –®–∞–≥ 1: –ù–∞—á–∞–ª–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å —É—Ä–æ–≤–Ω–µ–º SERIALIZABLE
BEGIN TRANSACTION ISOLATION LEVEL SERIALIZABLE;

-- –®–∞–≥ 2: –ü–µ—Ä–≤–æ–µ —á—Ç–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞ (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 4.6)
SELECT rating FROM pizzeria WHERE name = 'Pizza Hut';

-- –®–∞–≥ 3: –í—Ç–æ—Ä–æ–µ —á—Ç–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞ (–ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ Session #2)
-- –í SERIALIZABLE –¥–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å —Ç–æ –∂–µ –∑–Ω–∞—á–µ–Ω–∏–µ (4.6)
-- –∏–ª–∏ –æ—à–∏–±–∫—É –ø—Ä–∏ COMMIT
SELECT rating FROM pizzeria WHERE name = 'Pizza Hut';

-- –®–∞–≥ 4: –ü–æ–ø—ã—Ç–∫–∞ —Ñ–∏–∫—Å–∞—Ü–∏–∏
-- –ú–æ–∂–µ—Ç –±—ã—Ç—å –æ—à–∏–±–∫–∞, –µ—Å–ª–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω –∫–æ–Ω—Ñ–ª–∏–∫—Ç
COMMIT;

-- ============================================
-- Session #2
-- ============================================

-- –®–∞–≥ 1: –ù–∞—á–∞–ª–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
BEGIN;

-- –®–∞–≥ 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞ –¥–æ 3.0
UPDATE pizzeria 
SET rating = 3.0 
WHERE name = 'Pizza Hut';

-- –®–∞–≥ 3: –§–∏–∫—Å–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
COMMIT;
```

### ‚úÖ –®–ê–ì 7: –ü—Ä–æ–≤–µ—Ä—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. –°–æ–∑–¥–∞–π —Ñ–∞–π–ª `src/ex04/day08_ex04.sql`
2. –í—ã–ø–æ–ª–Ω–∏ –∫–æ–º–∞–Ω–¥—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
3. –°–¥–µ–ª–∞–π —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –≤—ã–≤–æ–¥–∞ –¥–ª—è –æ–±–µ–∏—Ö —Å–µ—Å—Å–∏–π
4. –£–±–µ–¥–∏—Å—å, —á—Ç–æ:
   - –í SERIALIZABLE Non-Repeatable Read –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â—ë–Ω
   - –õ–∏–±–æ –≤–∏–¥–∏—à—å —Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –ª–∏–±–æ –ø–æ–ª—É—á–∞–µ—à—å –æ—à–∏–±–∫—É –ø—Ä–∏ COMMIT

---

## üìù –ó–ê–î–ê–ù–ò–ï 05: Phantom Reads Anomaly

### üéØ –¶–µ–ª—å –∑–∞–¥–∞–Ω–∏—è

–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –∞–Ω–æ–º–∞–ª–∏—é "–§–∞–Ω—Ç–æ–º–Ω–æ–µ —á—Ç–µ–Ω–∏–µ" (Phantom Read) –Ω–∞ —É—Ä–æ–≤–Ω–µ READ COMMITTED.

### üìñ –ß—Ç–æ –Ω—É–∂–Ω–æ –ø–æ–Ω—è—Ç—å

**Phantom Read:**
- –û–¥–Ω–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–ø—Ä–æ—Å –¥–≤–∞–∂–¥—ã
- –ú–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ –¥—Ä—É–≥–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–æ–≤—ã–µ —Å—Ç—Ä–æ–∫–∏
- –í—Ç–æ—Ä–æ–π –∑–∞–ø—Ä–æ—Å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç "—Ñ–∞–Ω—Ç–æ–º–Ω—ã–µ" —Å—Ç—Ä–æ–∫–∏, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ –±—ã–ª–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ

**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
1. Session #1: BEGIN, SELECT SUM(rating) (—Å—É–º–º–∞ –≤—Å–µ—Ö —Ä–µ–π—Ç–∏–Ω–≥–æ–≤)
2. Session #2: BEGIN, INSERT –Ω–æ–≤–æ–π –ø–∏—Ü—Ü–µ—Ä–∏–∏, COMMIT
3. Session #1: SELECT SUM(rating) ‚Üí **–¥—Ä—É–≥–∞—è —Å—É–º–º–∞!** (–ø–æ—è–≤–∏–ª–∏—Å—å –Ω–æ–≤—ã–µ —Å—Ç—Ä–æ–∫–∏)

### üîç –®–ê–ì 1: –£–±–µ–¥–∏—Ç—å—Å—è –≤ —É—Ä–æ–≤–Ω–µ –∏–∑–æ–ª—è—Ü–∏–∏

**–í –æ–±–µ–∏—Ö —Å–µ—Å—Å–∏—è—Ö:**

```sql
SHOW TRANSACTION ISOLATION LEVEL;
```

**–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:** `read committed`

### üîç –®–ê–ì 2: –ù–∞—á–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –≤ Session #1

**–í Session #1:**

```sql
BEGIN;
```

### üîç –®–ê–ì 3: –ü–µ—Ä–≤–æ–µ —á—Ç–µ–Ω–∏–µ (—Å—É–º–º–∞ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤) –≤ Session #1

**–í Session #1:**

```sql
SELECT SUM(rating) AS total_rating FROM pizzeria;
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°—É–º–º–∞ –≤—Å–µ—Ö —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 23.3)

**–í—ã–≤–æ–¥:** –ü–µ—Ä–≤–æ–µ —á—Ç–µ–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—É–º–º—É —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–∏—Ü—Ü–µ—Ä–∏–π.

### üîç –®–ê–ì 4: –í—Å—Ç–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –ø–∏—Ü—Ü–µ—Ä–∏—é –≤ Session #2

**–í Session #2:**

```sql
BEGIN;

INSERT INTO pizzeria (id, name, rating) 
VALUES (10, 'Kazan Pizza', 5);

COMMIT;
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- –í—Å—Ç–∞–≤–ª—è–µ–º –Ω–æ–≤—É—é –ø–∏—Ü—Ü–µ—Ä–∏—é —Å —Ä–µ–π—Ç–∏–Ω–≥–æ–º 5
- –§–∏–∫—Å–∏—Ä—É–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è

### üîç –®–ê–ì 5: –í—Ç–æ—Ä–æ–µ —á—Ç–µ–Ω–∏–µ –≤ Session #1

**–í Session #1:**

```sql
SELECT SUM(rating) AS total_rating FROM pizzeria;
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°—É–º–º–∞ —É–≤–µ–ª–∏—á–∏–ª–∞—Å—å –Ω–∞ 5 (–ø–æ—è–≤–∏–ª–∞—Å—å –Ω–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞!)

**–í—ã–≤–æ–¥:** –í—Ç–æ—Ä–æ–µ —á—Ç–µ–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç **–¥—Ä—É–≥—É—é —Å—É–º–º—É** –∏–∑-–∑–∞ "—Ñ–∞–Ω—Ç–æ–º–Ω–æ–π" —Å—Ç—Ä–æ–∫–∏. –≠—Ç–æ –∏ –µ—Å—Ç—å Phantom Read.

### üîç –®–ê–ì 6: –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é Session #1

**–í Session #1:**

```sql
COMMIT;
```

### ‚úçÔ∏è –®–ê–ì 7: –ù–∞–ø–∏—à–∏ —Ñ–∞–π–ª —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–∞ `src/ex05/day08_ex05.sql`:**

```sql
-- ============================================
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ä–æ–≤–Ω—è –∏–∑–æ–ª—è—Ü–∏–∏
-- ============================================
SHOW TRANSACTION ISOLATION LEVEL;
-- –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: read committed

-- ============================================
-- Session #1
-- ============================================

-- –®–∞–≥ 1: –ù–∞—á–∞–ª–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
BEGIN;

-- –®–∞–≥ 2: –ü–µ—Ä–≤–æ–µ —á—Ç–µ–Ω–∏–µ —Å—É–º–º—ã —Ä–µ–π—Ç–∏–Ω–≥–æ–≤
-- (—Å—É–º–º–∞ –≤—Å–µ—Ö —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–∏—Ü—Ü–µ—Ä–∏–π)
SELECT SUM(rating) AS total_rating FROM pizzeria;

-- –®–∞–≥ 3: –í—Ç–æ—Ä–æ–µ —á—Ç–µ–Ω–∏–µ —Å—É–º–º—ã —Ä–µ–π—Ç–∏–Ω–≥–æ–≤
-- (–ø–æ—Å–ª–µ –≤—Å—Ç–∞–≤–∫–∏ –≤ Session #2)
-- –û–ñ–ò–î–ê–ï–¢–°–Ø –î–†–£–ì–ê–Ø –°–£–ú–ú–ê (—É–≤–µ–ª–∏—á–µ–Ω–∞ –Ω–∞ 5)
-- –≠—Ç–æ –∏ –µ—Å—Ç—å Phantom Read!
SELECT SUM(rating) AS total_rating FROM pizzeria;

-- –®–∞–≥ 4: –§–∏–∫—Å–∞—Ü–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
COMMIT;

-- ============================================
-- Session #2
-- ============================================

-- –®–∞–≥ 1: –ù–∞—á–∞–ª–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
BEGIN;

-- –®–∞–≥ 2: –í—Å—Ç–∞–≤–∫–∞ –Ω–æ–≤–æ–π –ø–∏—Ü—Ü–µ—Ä–∏–∏
INSERT INTO pizzeria (id, name, rating) 
VALUES (10, 'Kazan Pizza', 5);

-- –®–∞–≥ 3: –§–∏–∫—Å–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
COMMIT;
```

### ‚úÖ –®–ê–ì 8: –ü—Ä–æ–≤–µ—Ä—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. –°–æ–∑–¥–∞–π —Ñ–∞–π–ª `src/ex05/day08_ex05.sql`
2. –í—ã–ø–æ–ª–Ω–∏ –∫–æ–º–∞–Ω–¥—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
3. –°–¥–µ–ª–∞–π —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –≤—ã–≤–æ–¥–∞ –¥–ª—è –æ–±–µ–∏—Ö —Å–µ—Å—Å–∏–π
4. –£–±–µ–¥–∏—Å—å, —á—Ç–æ:
   - –ü–µ—Ä–≤–∞—è —Å—É–º–º–∞ –≤ Session #1 = –Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞
   - –ü–æ—Å–ª–µ –≤—Å—Ç–∞–≤–∫–∏ –≤ Session #2
   - –í—Ç–æ—Ä–∞—è —Å—É–º–º–∞ –≤ Session #1 = –Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ + 5 (–ø–æ—è–≤–∏–ª–∞—Å—å "—Ñ–∞–Ω—Ç–æ–º–Ω–∞—è" —Å—Ç—Ä–æ–∫–∞!)

---

## üìù –ó–ê–î–ê–ù–ò–ï 06: Phantom Reads for Repeatable Read

### üéØ –¶–µ–ª—å –∑–∞–¥–∞–Ω–∏—è

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫ —É—Ä–æ–≤–µ–Ω—å –∏–∑–æ–ª—è—Ü–∏–∏ REPEATABLE READ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∞–Ω–æ–º–∞–ª–∏—é Phantom Read.

### üìñ –ß—Ç–æ –Ω—É–∂–Ω–æ –ø–æ–Ω—è—Ç—å

**REPEATABLE READ –∏ Phantom Reads:**
- REPEATABLE READ —Å–æ–∑–¥–∞—ë—Ç —Å–Ω–∏–º–æ–∫ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –Ω–∞—á–∞–ª–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤–∏–¥—è—Ç —ç—Ç–æ—Ç —Å–Ω–∏–º–æ–∫
- –ù–æ–≤—ã–µ —Å—Ç—Ä–æ–∫–∏, –≤—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ –¥—Ä—É–≥–∏–º–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏, –Ω–µ –≤–∏–¥–Ω—ã
- –§–∞–Ω—Ç–æ–º–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –Ω–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è

**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
1. Session #1: BEGIN REPEATABLE READ, SELECT SUM(rating)
2. Session #2: BEGIN, INSERT –Ω–æ–≤–æ–π –ø–∏—Ü—Ü–µ—Ä–∏–∏, COMMIT
3. Session #1: SELECT SUM(rating) ‚Üí **—Ç–∞ –∂–µ —Å—É–º–º–∞!** (—Ñ–∞–Ω—Ç–æ–º—ã –Ω–µ –≤–∏–¥–Ω—ã)

### üîç –®–ê–ì 1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å –∏–∑–æ–ª—è—Ü–∏–∏

**–í Session #1:**

```sql
BEGIN TRANSACTION ISOLATION LEVEL REPEATABLE READ;
```

**–í Session #2:**

```sql
BEGIN;
-- –ú–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å READ COMMITTED
```

### üîç –®–ê–ì 2: –ü–µ—Ä–≤–æ–µ —á—Ç–µ–Ω–∏–µ –≤ Session #1

**–í Session #1:**

```sql
SELECT SUM(rating) AS total_rating FROM pizzeria;
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°—É–º–º–∞ –≤—Å–µ—Ö —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 23.3)

### üîç –®–ê–ì 3: –í—Å—Ç–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –ø–∏—Ü—Ü–µ—Ä–∏—é –≤ Session #2

**–í Session #2:**

```sql
INSERT INTO pizzeria (id, name, rating) 
VALUES (11, 'Kazan Pizza 2', 4);

COMMIT;
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- –í—Å—Ç–∞–≤–ª—è–µ–º –Ω–æ–≤—É—é –ø–∏—Ü—Ü–µ—Ä–∏—é —Å —Ä–µ–π—Ç–∏–Ω–≥–æ–º 4
- –§–∏–∫—Å–∏—Ä—É–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è

### üîç –®–ê–ì 4: –í—Ç–æ—Ä–æ–µ —á—Ç–µ–Ω–∏–µ –≤ Session #1

**–í Session #1:**

```sql
SELECT SUM(rating) AS total_rating FROM pizzeria;
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** **–¢–∞ –∂–µ —Å—É–º–º–∞!** (23.3, –Ω–µ —É–≤–µ–ª–∏—á–∏–ª–∞—Å—å –Ω–∞ 4)

**–í—ã–≤–æ–¥:** –í REPEATABLE READ —Ñ–∞–Ω—Ç–æ–º–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –Ω–µ –≤–∏–¥–Ω—ã. –°—É–º–º–∞ –æ—Å—Ç–∞–ª–∞—Å—å –ø—Ä–µ–∂–Ω–µ–π.

### üîç –®–ê–ì 5: –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é Session #1

**–í Session #1:**

```sql
COMMIT;
```

### üîç –®–ê–ì 6: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ COMMIT

**–í Session #1 (–ø–æ—Å–ª–µ COMMIT):**

```sql
SELECT SUM(rating) AS total_rating FROM pizzeria;
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°—É–º–º–∞ —É–≤–µ–ª–∏—á–∏–ª–∞—Å—å (—Ç–µ–ø–µ—Ä—å –≤–∏–¥–Ω–∞ –Ω–æ–≤–∞—è –ø–∏—Ü—Ü–µ—Ä–∏—è)

**–í—ã–≤–æ–¥:** –ü–æ—Å–ª–µ COMMIT —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤–∏–¥–∏—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

### ‚úçÔ∏è –®–ê–ì 7: –ù–∞–ø–∏—à–∏ —Ñ–∞–π–ª —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–∞ `src/ex06/day08_ex06.sql`:**

```sql
-- ============================================
-- Session #1
-- ============================================

-- –®–∞–≥ 1: –ù–∞—á–∞–ª–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å —É—Ä–æ–≤–Ω–µ–º REPEATABLE READ
BEGIN TRANSACTION ISOLATION LEVEL REPEATABLE READ;

-- –®–∞–≥ 2: –ü–µ—Ä–≤–æ–µ —á—Ç–µ–Ω–∏–µ —Å—É–º–º—ã —Ä–µ–π—Ç–∏–Ω–≥–æ–≤
SELECT SUM(rating) AS total_rating FROM pizzeria;

-- –®–∞–≥ 3: –í—Ç–æ—Ä–æ–µ —á—Ç–µ–Ω–∏–µ —Å—É–º–º—ã —Ä–µ–π—Ç–∏–Ω–≥–æ–≤
-- (–ø–æ—Å–ª–µ –≤—Å—Ç–∞–≤–∫–∏ –≤ Session #2)
-- –í REPEATABLE READ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –¢–ê –ñ–ï –°–£–ú–ú–ê
-- –§–∞–Ω—Ç–æ–º–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –Ω–µ –≤–∏–¥–Ω—ã!
SELECT SUM(rating) AS total_rating FROM pizzeria;

-- –®–∞–≥ 4: –§–∏–∫—Å–∞—Ü–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
COMMIT;

-- –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ COMMIT (—Ç–µ–ø–µ—Ä—å –≤–∏–¥–Ω–∞ –Ω–æ–≤–∞—è –ø–∏—Ü—Ü–µ—Ä–∏—è)
SELECT SUM(rating) AS total_rating FROM pizzeria;

-- ============================================
-- Session #2
-- ============================================

-- –®–∞–≥ 1: –ù–∞—á–∞–ª–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
BEGIN;

-- –®–∞–≥ 2: –í—Å—Ç–∞–≤–∫–∞ –Ω–æ–≤–æ–π –ø–∏—Ü—Ü–µ—Ä–∏–∏
INSERT INTO pizzeria (id, name, rating) 
VALUES (11, 'Kazan Pizza 2', 4);

-- –®–∞–≥ 3: –§–∏–∫—Å–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
COMMIT;
```

### ‚úÖ –®–ê–ì 8: –ü—Ä–æ–≤–µ—Ä—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. –°–æ–∑–¥–∞–π —Ñ–∞–π–ª `src/ex06/day08_ex06.sql`
2. –í—ã–ø–æ–ª–Ω–∏ –∫–æ–º–∞–Ω–¥—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
3. –°–¥–µ–ª–∞–π —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –≤—ã–≤–æ–¥–∞ –¥–ª—è –æ–±–µ–∏—Ö —Å–µ—Å—Å–∏–π
4. –£–±–µ–¥–∏—Å—å, —á—Ç–æ:
   - –ü–µ—Ä–≤–∞—è —Å—É–º–º–∞ –≤ Session #1 = –Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞
   - –ü–æ—Å–ª–µ –≤—Å—Ç–∞–≤–∫–∏ –≤ Session #2
   - –í—Ç–æ—Ä–∞—è —Å—É–º–º–∞ –≤ Session #1 = **—Ç–∞ –∂–µ —Å—É–º–º–∞** (—Ñ–∞–Ω—Ç–æ–º—ã –Ω–µ –≤–∏–¥–Ω—ã!)
   - –ü–æ—Å–ª–µ COMMIT —Å—É–º–º–∞ —É–≤–µ–ª–∏—á–∏–ª–∞—Å—å

---

## üìù –ó–ê–î–ê–ù–ò–ï 07: Deadlock

### üéØ –¶–µ–ª—å –∑–∞–¥–∞–Ω–∏—è

–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ —Å–∏—Ç—É–∞—Ü–∏—é –≤–∑–∞–∏–º–æ–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ (deadlock) –º–µ–∂–¥—É –¥–≤—É–º—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏.

### üìñ –ß—Ç–æ –Ω—É–∂–Ω–æ –ø–æ–Ω—è—Ç—å

**Deadlock (–≤–∑–∞–∏–º–æ–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞):**
- –î–≤–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –±–ª–æ–∫–∏—Ä—É—é—Ç —Ä–µ—Å—É—Ä—Å—ã –¥—Ä—É–≥ –¥—Ä—É–≥–∞
- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è 1 –∂–¥—ë—Ç —Ä–µ—Å—É—Ä—Å, –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–µ–π 2
- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è 2 –∂–¥—ë—Ç —Ä–µ—Å—É—Ä—Å, –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–µ–π 1
- –ù–∏ –æ–¥–Ω–∞ –Ω–µ –º–æ–∂–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å—Å—è ‚Üí deadlock
- PostgreSQL –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç deadlock –∏ –æ—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç –æ–¥–Ω—É –∏–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

**–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å deadlock:**
1. Session #1: BEGIN, UPDATE —Å—Ç—Ä–æ–∫–∏ A
2. Session #2: BEGIN, UPDATE —Å—Ç—Ä–æ–∫–∏ B
3. Session #1: UPDATE —Å—Ç—Ä–æ–∫–∏ B ‚Üí **–∂–¥—ë—Ç** (–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ Session #2)
4. Session #2: UPDATE —Å—Ç—Ä–æ–∫–∏ A ‚Üí **deadlock!** (–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ Session #1)

### üîç –®–ê–ì 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ

**–ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –≤ —Ç–∞–±–ª–∏—Ü–µ pizzeria –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫:**

```sql
SELECT * FROM pizzeria ORDER BY id;
```

**–ù—É–∂–Ω–æ –º–∏–Ω–∏–º—É–º 2 —Å—Ç—Ä–æ–∫–∏ –¥–ª—è deadlock.**

### üîç –®–ê–ì 2: –ù–∞—á–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤ –æ–±–µ–∏—Ö —Å–µ—Å—Å–∏—è—Ö

**–í Session #1:**

```sql
BEGIN;
```

**–í Session #2:**

```sql
BEGIN;
```

### üîç –®–ê–ì 3: –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏

**–í Session #1:**

```sql
UPDATE pizzeria 
SET rating = 5 
WHERE id = 1;
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- –ë–ª–æ–∫–∏—Ä—É–µ–º —Å—Ç—Ä–æ–∫—É —Å id=1
- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è Session #1 –¥–µ—Ä–∂–∏—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫—É

**–í Session #2:**

```sql
UPDATE pizzeria 
SET rating = 5 
WHERE id = 2;
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- –ë–ª–æ–∫–∏—Ä—É–µ–º —Å—Ç—Ä–æ–∫—É —Å id=2
- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è Session #2 –¥–µ—Ä–∂–∏—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫—É

### üîç –®–ê–ì 4: –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–∫—É –¥—Ä—É–≥–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

**–í Session #1:**

```sql
UPDATE pizzeria 
SET rating = 4 
WHERE id = 2;
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- –ü—ã—Ç–∞–µ–º—Å—è –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É id=2
- –ù–æ –æ–Ω–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ Session #2
- Session #1 **–∂–¥—ë—Ç** —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

**–í Session #2:**

```sql
UPDATE pizzeria 
SET rating = 4 
WHERE id = 1;
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
ERROR:  deadlock detected
DETAIL:  Process ... waits for ShareLock on transaction ...; blocked by process ...
HINT:  See server log for query details.
CONTEXT:  while updating tuple (0,1) in relation "pizzeria"
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- –ü—ã—Ç–∞–µ–º—Å—è –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É id=1
- –ù–æ –æ–Ω–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ Session #1
- Session #2 —Ç–æ–∂–µ –∂–¥—ë—Ç
- PostgreSQL –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç deadlock –∏ –æ—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç –æ–¥–Ω—É –∏–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

### üîç –®–ê–ì 5: –û—Ç–∫–∞—Ç–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é —Å –æ—à–∏–±–∫–æ–π

**–í Session #2 (–ø–æ—Å–ª–µ –æ—à–∏–±–∫–∏):**

```sql
ROLLBACK;
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- –ü–æ—Å–ª–µ –æ—à–∏–±–∫–∏ deadlock —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç—Å—è
- –ù–æ –ª—É—á—à–µ —è–≤–Ω–æ —Å–¥–µ–ª–∞—Ç—å ROLLBACK

**–í Session #1:**

```sql
COMMIT;
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- –ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ Session #2 –æ—Ç–∫–∞—Ç–∏–ª–∞—Å—å, Session #1 –º–æ–∂–µ—Ç –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è

### ‚úçÔ∏è –®–ê–ì 6: –ù–∞–ø–∏—à–∏ —Ñ–∞–π–ª —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–∞ `src/ex07/day08_ex07.sql`:**

```sql
-- ============================================
-- Session #1
-- ============================================

-- –®–∞–≥ 1: –ù–∞—á–∞–ª–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
BEGIN;

-- –®–∞–≥ 2: –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å—Ç—Ä–æ–∫–∏ id=1
UPDATE pizzeria 
SET rating = 5 
WHERE id = 1;

-- –®–∞–≥ 3: –ü–æ–ø—ã—Ç–∫–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–∫—É id=2
-- (–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ Session #2, –±—É–¥–µ—Ç –∂–¥–∞—Ç—å)
UPDATE pizzeria 
SET rating = 4 
WHERE id = 2;

-- –®–∞–≥ 4: –ü–æ—Å–ª–µ deadlock –≤ Session #2, –º–æ–∂–Ω–æ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å
COMMIT;

-- ============================================
-- Session #2
-- ============================================

-- –®–∞–≥ 1: –ù–∞—á–∞–ª–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
BEGIN;

-- –®–∞–≥ 2: –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å—Ç—Ä–æ–∫–∏ id=2
UPDATE pizzeria 
SET rating = 5 
WHERE id = 2;

-- –®–∞–≥ 3: –ü–æ–ø—ã—Ç–∫–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–∫—É id=1
-- –û–ñ–ò–î–ê–ï–¢–°–Ø –û–®–ò–ë–ö–ê DEADLOCK!
-- ERROR: deadlock detected
UPDATE pizzeria 
SET rating = 4 
WHERE id = 1;

-- –®–∞–≥ 4: –û—Ç–∫–∞—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø–æ—Å–ª–µ –æ—à–∏–±–∫–∏
ROLLBACK;
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç (–æ–±—Ä–∞—Ç–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫):**

```sql
-- ============================================
-- Session #1
-- ============================================
BEGIN;
UPDATE pizzeria SET rating = 5 WHERE id = 1;
-- –ñ–¥—ë–º, –ø–æ–∫–∞ Session #2 –∑–∞–±–ª–æ–∫–∏—Ä—É–µ—Ç id=2
UPDATE pizzeria SET rating = 4 WHERE id = 2;  -- –∂–¥—ë—Ç
COMMIT;

-- ============================================
-- Session #2
-- ============================================
BEGIN;
UPDATE pizzeria SET rating = 5 WHERE id = 2;
UPDATE pizzeria SET rating = 4 WHERE id = 1;  -- DEADLOCK!
ROLLBACK;
```

### ‚úÖ –®–ê–ì 7: –ü—Ä–æ–≤–µ—Ä—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. –°–æ–∑–¥–∞–π —Ñ–∞–π–ª `src/ex07/day08_ex07.sql`
2. –í—ã–ø–æ–ª–Ω–∏ –∫–æ–º–∞–Ω–¥—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
3. –°–¥–µ–ª–∞–π —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –≤—ã–≤–æ–¥–∞ –¥–ª—è –æ–±–µ–∏—Ö —Å–µ—Å—Å–∏–π
4. –£–±–µ–¥–∏—Å—å, —á—Ç–æ:
   - Session #1 –±–ª–æ–∫–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫—É id=1
   - Session #2 –±–ª–æ–∫–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫—É id=2
   - Session #1 –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å id=2 ‚Üí –∂–¥—ë—Ç
   - Session #2 –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å id=1 ‚Üí **deadlock!**
   - PostgreSQL –æ–±–Ω–∞—Ä—É–∂–∏–ª deadlock –∏ –æ—Ç–∫–∞—Ç–∏–ª –æ–¥–Ω—É –∏–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

---

## üéØ –ò–¢–û–ì–û–í–ê–Ø –®–ü–ê–†–ì–ê–õ–ö–ê

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π:

1. **–ù–∞—á–∞–ª–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:**
```sql
BEGIN;
-- –∏–ª–∏
BEGIN TRANSACTION;
-- –∏–ª–∏ —Å —É—Ä–æ–≤–Ω–µ–º –∏–∑–æ–ª—è—Ü–∏–∏
BEGIN TRANSACTION ISOLATION LEVEL REPEATABLE READ;
```

2. **–§–∏–∫—Å–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
```sql
COMMIT;
```

3. **–û—Ç–∫–∞—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
```sql
ROLLBACK;
```

4. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —É—Ä–æ–≤–Ω—è –∏–∑–æ–ª—è—Ü–∏–∏:**
```sql
SET TRANSACTION ISOLATION LEVEL READ COMMITTED;
SET TRANSACTION ISOLATION LEVEL REPEATABLE READ;
SET TRANSACTION ISOLATION LEVEL SERIALIZABLE;
```

5. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ä–æ–≤–Ω—è –∏–∑–æ–ª—è—Ü–∏–∏:**
```sql
SHOW TRANSACTION ISOLATION LEVEL;
```

### –£—Ä–æ–≤–Ω–∏ –∏–∑–æ–ª—è—Ü–∏–∏ –∏ –∞–Ω–æ–º–∞–ª–∏–∏:

| –£—Ä–æ–≤–µ–Ω—å –∏–∑–æ–ª—è—Ü–∏–∏ | Lost Update | Dirty Read | Non-Repeatable Read | Phantom Read |
|------------------|-------------|------------|---------------------|--------------|
| READ UNCOMMITTED | ‚ùå | ‚úÖ | ‚úÖ | ‚úÖ |
| READ COMMITTED   | ‚ùå | ‚ùå | ‚úÖ | ‚úÖ |
| REPEATABLE READ  | ‚úÖ* | ‚ùå | ‚ùå | ‚ùå |
| SERIALIZABLE     | ‚úÖ | ‚ùå | ‚ùå | ‚ùå |

*–í REPEATABLE READ Lost Update –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –æ—à–∏–±–∫—É –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏.

### –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è:

1. **–ó–∞–±—ã–ª COMMIT:**
   - –ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
   - –†–µ—à–µ–Ω–∏–µ: –≤—Å–µ–≥–¥–∞ –¥–µ–ª–∞–π COMMIT –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

2. **Deadlock:**
   - PostgreSQL –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –∏ –æ—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç –æ–¥–Ω—É —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
   - –†–µ—à–µ–Ω–∏–µ: –ø–æ–≤—Ç–æ—Ä–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –ø–æ—Å–ª–µ ROLLBACK

3. **–û—à–∏–±–∫–∞ "could not serialize access":**
   - –í REPEATABLE READ –∏–ª–∏ SERIALIZABLE –æ–±–Ω–∞—Ä—É–∂–µ–Ω –∫–æ–Ω—Ñ–ª–∏–∫—Ç
   - –†–µ—à–µ–Ω–∏–µ: —Å–¥–µ–ª–∞–π ROLLBACK –∏ –ø–æ–≤—Ç–æ—Ä–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é

4. **–ù–µ –≤–∏–∂—É –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –¥—Ä—É–≥–æ–π —Å–µ—Å—Å–∏–∏:**
   - –ù—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å COMMIT –≤ –ø–µ—Ä–≤–æ–π —Å–µ—Å—Å–∏–∏
   - –ò–ª–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å –∏–∑–æ–ª—è—Ü–∏–∏

### –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è:

- ‚úÖ –î–≤–µ —Å–µ—Å—Å–∏–∏ –æ—Ç–∫—Ä—ã—Ç—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
- ‚úÖ –ö–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –£—Ä–æ–≤–µ–Ω—å –∏–∑–æ–ª—è—Ü–∏–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –°–∫—Ä–∏–Ω—à–æ—Ç—ã –≤—ã–≤–æ–¥–∞ –¥–ª—è –æ–±–µ–∏—Ö —Å–µ—Å—Å–∏–π —Å–¥–µ–ª–∞–Ω—ã
- ‚úÖ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ SQL-—Ñ–∞–π–ª–µ –æ–±—ä—è—Å–Ω—è—é—Ç –∫–∞–∂–¥—ã–π —à–∞–≥
- ‚úÖ –ê–Ω–æ–º–∞–ª–∏—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∞ –∏–ª–∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∞ (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–∞–¥–∞–Ω–∏—è)

---

## üöÄ –£–¥–∞—á–∏ –≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞!

–ü–æ–º–Ω–∏:
- –ß–∏—Ç–∞–π –∑–∞–¥–∞–Ω–∏—è –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ
- –°–ª–µ–¥—É–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —à–∞–≥–æ–≤
- –î–µ–ª–∞–π —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –¥–ª—è –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞
- –ü–æ–Ω–∏–º–∞–π, –ø–æ—á–µ–º—É –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –∫–∞–∂–¥–∞—è –∞–Ω–æ–º–∞–ª–∏—è
- –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π —Å —Ä–∞–∑–Ω—ã–º–∏ —É—Ä–æ–≤–Ω—è–º–∏ –∏–∑–æ–ª—è—Ü–∏–∏
- –ù–µ –±–æ–π—Å—è –æ—à–∏–±–æ–∫ ‚Äî –æ–Ω–∏ —á–∞—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è!

